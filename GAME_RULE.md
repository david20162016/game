# 게임 규칙: AI 낙씨꾼 (AI Angler)

> AI 포즈 인식을 이용한 낚시 게임입니다. 몸을 기울여 낚시 준비를 하고, 물고기의 힘 겨루기(게이지 조절)를 통해 낚시를 성공시키세요!

## 🎮 게임 제목
**AI 낙씨꾼 (AI Angler)**

---

## 📝 게임 설명
플레이어는 낚시꾼이 되어 물고기를 낚아야 합니다.
왼쪽으로 몸을 기울여 낚싯대를 던질 준비를 하고, 중앙으로 돌아오면 찌를 던집니다.
물고기가 물면 '게이지' 싸움이 시작됩니다!
오른쪽으로 기울여 줄을 감고(게이지 상승), 중앙으로 돌아와 줄을 풀며(게이지 하강)
물고기가 도망가지 못하게 적정 텐션을 유지하세요.

---

## 🎯 게임 목표
- **물고기 잡기**: 낚시 모드에서 게이지 바를 **목표 구간(Target Zone)에 5초 이상 유지**하여 물고기를 낚으세요.
- **실패 조건**: 게이지 바가 화면 맨 위나 맨 아래(범위 밖)로 벗어나면 줄이 끊어지거나 물고기를 놓쳐 실패합니다.

---

## 🕹️ 게임 규칙

### 1. 게임 진행 단계 (State Machine)

| 단계 | 상태 이름 | 조작 (키보드/포즈) | 설명 |
|:---:|:---:|:---|:---|
| 1 | **IDLE (대기)** | **R 키** 누름 | "R키를 눌러 낚시를 준비하세요" 메시지 표시 |
| 2 | **READY (준비)** | **C 키** 누름 | 낚싯대를 던질 준비 완료. "C키를 눌러 찌를 던지세요!" |
| 3 | **CAST (투척)** | 자동 진행 | 찌가 날아가고 낚시 시작. (물고기가 무는 연출 후 Playing 진입) |
| 4 | **PLAYING (낚시 중)** | **PgUp(감기)** | 게이지는 자동으로 떨어짐. PgUp을 연타/유지하여 목표 구간 유지 |
| 5 | **RESULT (결과)** | - | 성공(물고기 획득) 또는 실패(놓침) 화면 표시. 3초 후 IDLE 복귀 |

### 2. 낚시 컨트롤 (PLAYING 단계)

- **게이지(Tension Bar)**: 플레이어의 현재 텐션 상태 (0% ~ 100%)
- **목표 구간(Target Zone)**: **40% ~ 60%** 고정 구간

| 키보드 | 동작 | 게이지 변화 |
|:---:|:---|:---|
| **Page Up** | 줄 감기 (당기기) | **게이지 상승 (▲)** |
| **(자동)** | 줄 풀림 (중력) | **게이지 하강 (▼)** |

> **팁**: 오른쪽으로 계속 있으면 게이지가 끝까지 올라가 터질 수 있고, 중앙에만 있으면 게이지가 바닥으로 떨어져 물고기를 놓칩니다. 적절히 왔다 갔다 해야 합니다.

---

## 🎨 필요한 포즈 목록 (Metadata Labels)

Teachable Machine에서 학습해야 할 클래스입니다.

| 포즈 이름 (Label) | 게임 내 역할 | 설명 |
(포즈 인식 기능은 현재 사용하지 않음)

---

## 📊 난이도 및 밸런스

- **성공 조건**: 목표 구간(40% ~ 60%) 안에 머문 누적 시간이 **10초**가 되면 성공.
- **실패 조건**: 40% ~ 60% 구간을 유지하지 못하고, 게이지가 **0% 미만**이 되거나 **100% 초과**가 되면 실패.
- **게이지 속도**:
  - 상승 속도: 초당 +30%
  - 하강 속도: 초당 -20% (중력)

---

## 💡 개발 참고 사항 (기술 명세)

1. **게이지 UI 구현**:
   - `div` 박스 안에 `target-zone` (목표 구간)과 `current-bar` (현재 게이지)를 겹쳐서 표시.
   - `target-zone`은 게임마다 랜덤 위치 배정 (예: 30~60%, 50~80% 등).

2. **판정 로직 (`gameEngine.js`)**:
   - 매 프레임(또는 0.1초마다) `current-bar` 위치가 `target-zone` 안에 있는지 검사.
   - 안에 있으면 `catchTimer` 증가.
   - `catchTimer` >= 10.0초 도달 시 `Game Clear`.
   - `current-bar` <= 0 or >= 100 시 `Game Over`.

3. **조작 및 모델 연동**:
3. **조작 (키보드 전용)**:
   - `IDLE` 상태에서 **R 키**: -> `READY`로 전환.
   - `READY` 상태에서 **C 키**: -> `CAST` (잠시 후 `PLAYING`)로 전환.
   - `PLAYING` 상태:
     - **Page Up**: 게이지 증가 (줄 감기).
     - **자동**: 게이지 지속적 감소 (줄 풀림).

---
